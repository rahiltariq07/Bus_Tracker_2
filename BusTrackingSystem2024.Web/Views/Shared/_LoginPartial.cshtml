@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@if (SignInManager.IsSignedIn(User))
{
    <!-- Form for logout, stacked vertically -->
    <form id="logoutForm"
          asp-area="Identity"
          asp-page="/Account/Logout"
          asp-route-returnUrl="@Url.Action("Index", "Home")"
          method="post"
          class="d-flex flex-column align-items-start"
          style="margin:0; gap:0.1rem;">

        <!-- Display user email (e.g. driver6@gmail.com!) -->
        <span style="font-weight:bold; color:#373633;">
            @UserManager.GetUserName(User)!
        </span>

        <!-- Logout button below the email -->
        <button type="submit"
                class="btn btn-link p-0"
                style="margin:0; color:#005B33; text-decoration:none;font-size: 14px; font-style: normal; font-weight: 500; line-height: 20px;">
            Sign Out
        </button>
    </form>
}
else
{
    <!-- If not signed in, show a simple Login link -->
    <a asp-area="Identity"
       asp-page="/Account/Login"
       style="text-decoration:none; color:#222;">
        Login
    </a>
}
